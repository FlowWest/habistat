<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Map User Guide • habistat</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Interactive Map User Guide">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">habistat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/model_overview.html">Model Overview</a>
    </li>
    <li>
      <a href="../articles/habitat_training_data.html">Habitat Training Data</a>
    </li>
    <li>
      <a href="../articles/predictor_variables.html">Predictor Variables</a>
    </li>
    <li>
      <a href="../articles/statistical_model.html">Statistical Model Development, Training, and Prediction</a>
    </li>
    <li>
      <a href="../articles/duration_analysis.html">Duration Analysis</a>
    </li>
    <li>
      <a href="../articles/watershed_aggregation.html">Watershed Delineation and Flow Aggregation</a>
    </li>
    <li>
      <a href="../articles/spawning_extents.html">Spawning Extents</a>
    </li>
    <li>
      <a href="../articles/interactive_map.html">Interactive Map User Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="https://flowwest.shinyapps.io/habistat/" class="external-link">Interactive Map</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Interactive Map User Guide</h1>
                        <h4 data-toc-skip class="author"><a href="slewis@flowwest.com">Skyler Lewis</a></h4>
            
            <h4 data-toc-skip class="date">2025-03-04</h4>
      

      <div class="hidden name"><code>interactive_map.Rmd</code></div>

    </div>

    
    
<p><span class="key_takeaways"> The HabiStat <a href="https://flowwest.shinyapps.io/habistat" class="external-link">interactive map</a>
application is the quickest way to explore suitable habitat model
results without needing to install and load the <code>habistat</code> R
package. This article describes how to navigate through the map, query
results by individual reach or aggregated by mainstem or watershed, and
select specific streamgage hydrology for the inundation duration
suitability factor. </span></p>
<div class="section level2">
<h2 id="navigation">Navigation<a class="anchor" aria-label="anchor" href="#navigation"></a>
</h2>
<p>On the home screen, you’ll find the following general areas:</p>
<ul>
<li>
<p><strong>(1) General Settings</strong> (upper left): Options that
impact both the map view and the results view.</p>
<ul>
<li><p><em>Select Habitat Type</em>: <strong><em>rearing</em></strong>
or <strong><em>spawning</em></strong></p></li>
<li><p><em>Select Flowline Type</em>: <strong><em>comid</em></strong>
for individual NHD reach segments, <strong><em>mainstem</em></strong>
for results aggregated across an entire mainstem stream, or
<strong><em>watershed</em></strong> for results totalled for the entire
watershed including the mainstem and its tributaries.</p></li>
<li><p><em>Select Calculation Method</em></p></li>
<li><p><em>Select Flow (cfs) to show on map</em></p></li>
</ul>
</li>
<li><p><strong>(2) Map View</strong> (right): Zoom and pan on the map,
then click a flowline or watershed to view suitable habitat model
results and other information.</p></li>
<li>
<p><strong>(3) Results for Selected Item</strong> (lower left): This
section changes dynamically based on the flowline or watershed that has
been most recently clicked on the map. There are three tabs:</p>
<ul>
<li><p><em>Suitable Habitat Area by Flow</em> shows the main plot of
modeled suitable habitat area (y axis) versus flow (x axis). Suitable
habitat area can be shown in units of square ft per linear ft (average
effective habitat width) or total acres (totaled across the entire
reach, mainstem, or watershed).</p></li>
<li><p><em>Inundation Duration Analysis</em> dives into the scaling of
suitable habitat area based on inundation data, for streams that have
streamgage data available. The map will highlight the streamgage being
used for the calculation.</p></li>
<li><p><em>Flowline Attributes</em> shows the detailed attributes for
the flowline, including those used in the habistat model prediction.
(comid reach mode only)</p></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="getting-around-the-map">Getting Around the Map<a class="anchor" aria-label="anchor" href="#getting-around-the-map"></a>
</h2>
<p>The map allows you to view habitat estimates (in units of square feet
per linear foot of stream channel) at a given flow. It also allows you
to pan, zoom, and select a particular reach (<code>comid</code>),
mainstem, or watershed to get detailed model estimates for.</p>
<p>The default view for the map shows rearing results, broken down at
the individual comid (reach) scale, at 1000 cfs:</p>
<p><img src="figures/screenshot_home_zoomed.png"></p>
<p>Change the <strong>Habitat Type</strong> from <em>rearing</em> to
<em>spawning</em> to view results for spawning. Once the map view is set
to <em>spawning</em>, clicking on a reach (<code>comid</code>),
mainstem, or watershed will provide the detailed spawning results.</p>
<p><img src="figures/screenshot_home_spawning_zoomed.png"></p>
<p>Change the <strong>Geographic Scope</strong> from <em>comid</em> to
<em>mainstem</em> to aggregate results at the mainstem scale. As
described in the <a href="../watershed_aggregation.html">Watershed Flow
Aggregation</a> article, <strong>FINISH HERE DESCRIBING AGG</strong></p>
<p><img src="figures/screenshot_home_mainstem_zoomed.png"></p>
<p>Similarly, set <strong>Geographic Scope</strong> to
<em>watershed</em> to aggregate results at the watershed scale.</p>
<p><img src="figures/screenshot_home_watershed_zoomed.png"></p>
<p>Changing the <strong>Flow (cfs) to show on map</strong> changes the
color scheme on the map display to reflect the chosen flow.</p>
<p><img src="figures/screenshot_home_alt_flow_zoomed.png"></p>
</div>
<div class="section level2">
<h2 id="viewing-results-by-individual-reach-comid">Viewing Results by Individual Reach (ComID)<a class="anchor" aria-label="anchor" href="#viewing-results-by-individual-reach-comid"></a>
</h2>
<p>To dive into results at a particular location, select a
<em>comid</em> (individual NHD reach), mainstem, or watershed on the
map. In the example below, the map view was on the <em>comid</em> scale
for <em>rearing</em> habitat type, so the results returned match these
settings.</p>
<ul>
<li><p>The solid line is the physical habitat estimate trained on depth
and velocity criteria.</p></li>
<li><p>The shaded area is the range of estimates produced by the
different HabiStat model versions.</p></li>
<li><p>The dashed line is the habitat area estimate that has been scaled
for inundation duration using streamgage data at the gage indicated. The
selected gage is also highlighted on the map in blue.</p></li>
</ul>
<p><img src="figures/screenshot_select_comid.png"></p>
<p>The “Flowline Attributes” tab shows a detailed report of the
attribute variables associated with this <em>comid</em>. This includes
all the variables used by the HabiStat model to predict the suitable
habitat area, and some additional attributes of interest.</p>
<p><img src="figures/screenshot_select_comid_flowline_attr.png"></p>
<p>The “Inundation Duration Analysis” tab dives into greater detail on
the duration-based scaling of the physical habitat estimate. Settings
allow the user to change the time of year based on a particular
salmon/steelhead run’s rearing or spawning time window, as well as the
water year type. The chart shows the duration exceedence curve for the
streamgage, the suitability factors derived from that curve, and the
resulting scaled suitable habitat estimates.</p>
<p><img src="figures/screenshot_duration_comid.png"></p>
<p>The tool defaults to the closest streamgage to the point of interest,
but a different streamgage can be selected by clicking it on the map.
<em>Flows from a selected streamgage are always scaled to the point of
interest based on drainage area and mean annual precipitation.</em></p>
<p><img src="figures/screenshot_duration_comid_alt_streamgage.png"></p>
</div>
<div class="section level2">
<h2 id="viewing-aggregated-results-by-mainstem-or-watershed">Viewing Aggregated Results by Mainstem or Watershed<a class="anchor" aria-label="anchor" href="#viewing-aggregated-results-by-mainstem-or-watershed"></a>
</h2>
<p>Let’s set the <strong>Geographic Scope</strong> to <em>mainstem</em>
mode and try another example. As with the <em>comid</em> mode, selecting
a mainstem on the map will display a flow-to-suitable area curve. For
mainstems and watersheds, the curve is displayed by default in units of
total habitat acres rather than “square feet per linear feet.”</p>
<p>The habitat area shown is totaled for the entire mainstem, and
reported for what the flow would be at the outlet.</p>
<p>Let’s say in an example river, whenever flow is 1,000 cfs at the
outlet, flow is about 200 cfs at its farthest upstream reach. In this
case, our “1,000 cfs” estimated habitat for the mainstem will include
the 1,000 cfs habitat area at the outlet, the 200 cfs habitat area at
the farthest upstream end, and similarly for all reaches in between.
This calculation is documented further in the <a href="../watershed_aggregation.html">Watershed Flow Aggregation</a>
article.</p>
<p><img src="figures/screenshot_select_mainstem.png"></p>
<p>The duration analysis for the mainstem is based on the nearest
streamgage to the point that was clicked, but can be updated by
selecting a different streamgage on the map.</p>
<p>It’s generally recommended to select the streamgage nearest to the
outlet, unless a different streamgage has a better reporting time
period. Historical flow data used in the calculation are always scaled
to the outlet of the mainstem.</p>
<p><img src="figures/screenshot_duration_mainstem.png"></p>
<p>Viewing results for a watershed works exactly the same way as for a
mainstem, except that habitat area totals include habitat area on
delineated tributaries in addition to the mainstem.</p>
<p><img src="figures/screenshot_select_watershed.png"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Maddee Wiggins, <a href="mailto:slewis@flowwest.com">Skyler Lewis</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
